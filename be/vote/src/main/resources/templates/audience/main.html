<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<!-- th:replace="~{main_layout::layout(~{::content},_,_,_)}" -->

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/css/chat.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- <link rel="stylesheet" href="/css/ani.css"> -->
    <link rel="stylesheet" href="/css/react_index.css">
    <!-- <link rel="stylesheet" href="/css/layout.css"> -->
    <title>Document</title>
</head>

<body>
    <top>
        <div class="top_div">
            <th:block sec:authorize="isAuthenticated()">
                <!-- 로그인 되어 있는가 -->
                <div class="img_div">
                    <img th:if="${#authentication.principal.img}" th:src="${#authentication.principal.img}" width="25" height="25">
                    <img th:unless="${#authentication.principal.img}" src="/img/defaultProfile.png" width="25" height="25">
                </div>
                <span id="username" sec:authentication="principal.name"></span><span> 님</span> 
                <input id="rirochat" type="hidden" th:value="${@environment.getProperty('rirochat')}">
                <a></a>
                <form class="top_form"action="/logout" method="post">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                    <a href="/userInfo">내 정보 및 관리 </a>&nbsp;
                    <input type="submit" value="로그아웃" id="logoutButton"/>                    
                </form>
                <span style="display:none" id="userRole" sec:authentication="principal.ROLE"></span>
  		 	    <span style="display:none" id="userRid" sec:authentication="principal.R_ID"></span>
  		     		<!-- 	<input type="hidden" id="role" th:value="${userRole}"/> -->
            </th:block>

            <th:block sec:authorize="! isAuthenticated()">
                <a href="/auth">
                    <div>로그인</div>
                </a>
                <a href="/auth/register">
                    <div>회원가입</div>
                </a>
                <a href="#">
                    <div>고객센터</div>
                </a>
            </th:block>
        </div>
    </top>
    <content>
      <div id="audienceBoard"></div>
      <script src="/assets/index.js"></script>
    </content>
  </body>
</html>